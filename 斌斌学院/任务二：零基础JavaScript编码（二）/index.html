<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>任务二：零基础JavaScript编码（二）</title>
</head>
<body>
    <h3>污染城市列表</h3>
    <ul id="aqi-list">
        <!--<li>第一名：福州(样例),10</li>-->
    </ul>
    <script>
        var aqiData = [
            ["北京", 90],
            ["上海", 50],
            ["福州", 10],
            ["广州", 50],
            ["成都", 90],
            ["西安", 100]
        ];
        (function () {
            /*
            在注释下方编写代码
            遍历读取aqiData中各个城市的数据
            将空气质量指数大于60的城市显示到aqi-list的列表中
            */


            // 定义一个数据记录中文排名
            var rank = ["一","二","三","四","五","六","七","八"];
            // 定义一个遍量用于获取到排名序号
            var count = 0;
            // 获取到ul列表
            var oUl = document.getElementById("aqi-list");
            // 定义个数组保存排序后的最终数据
            var result = [];
            // 对数组数据进行遍历
            for (var i = 0; i< aqiData.length; i++){
                // 对遍历的结果进行筛选
                if (aqiData[i][1] > 20){
                    // 把符合条件的数组添加到result数组中去
                    result.push([aqiData[i][0], aqiData[i][1]]);
                }
            }

            // 对数组进行从大到小的排序
            result.sort(function (a, b) {
                return b[1] - a[1];
            });

            // 对新数组尽心遍历
            for (var j = 0; j< result.length; j++){
                //每次遍历计数自增
                count++;
                //创建li元素
                var oLi = document.createElement("li");
                //为li元素以字符串拼接的方式添加内容
                oLi.innerText = "第"+rank[count-1]+"名: "+result[j][0]+", "+result[j][1];
                // 每次循环把li添加到ul元素中去
                oUl.appendChild(oLi);
            }

        })();
    </script>
</body>
</html>